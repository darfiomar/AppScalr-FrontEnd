
<div class="header-list-pages">

  <div class="title" >
    <span>Pages</span>
    <nb-icon icon="plus-square-outline" [nbPopover]="templateRef" nbPopoverPlacement="bottom"></nb-icon>
  </div>

  <!-- <div class="btn-group">

  </div> -->

</div>

  <div class="content-list-pages">
    <ul class="list-with-icons" *ngFor="let p of pages; let i = index" >
      <li >
        <a (click)="sendPage(p.page_id,p.title,p.route_url,p.page_dom)">{{p?.title}}</a>
      </li>

      <!-- <div>
        <a href="#">header</a>
      </div> -->

    </ul>


  </div>




<div class="list-components">
  <div class="header-list-components">
    <span >Components</span>
    <!-- <nb-form-field class="searchfield">
      <nb-icon nbPrefix icon="search-outline" pack="eva" ></nb-icon>
      <input type="text" nbInput fullWidth status="info"  placeholder="Search a component">
    </nb-form-field> -->
  </div>


    <div class="app-components" *ngFor="let category of categories" >

      <div id="uicategoriesList" class="content scroll-outer" style="height:calc(100% + 10px);"
              cdkDropList
              [cdkDropListData]="category.elements"
              [cdkDropListConnectedTo]="['answersList']"
              (cdkDropListDropped)="drop($event)">

          <ul>

            <li *ngFor="let element of category.elements" [cdkDragData]="element" cdkDrag>

              <div class="component-content">
                <span [class]="element.classes.toString().split(' ')">
                  <img class="component-icon" [src]="element.icon" alt="Layout" />
                </span>
                <span>{{ element.name }}</span>
              </div>

            </li>
          </ul>

      </div>

    </div>


</div>


<ng-template #templateRef>


<nb-card class="popover-card" accent="info"  [hidden]="submitted">

  <nb-card-body>
    <form (ngSubmit)="onSubmit()">
      <div class="form-group row">
        <label for="inputTitle" class="label col-sm-3 col-form-label" >Title</label>
        <div class="col-sm-9">
          <input type="text" nbInput fullWidth id="pagetitle" placeholder="Page Title"
                 name="pagetitle" [(ngModel)]="newPage.pagetitle" required>
        </div>
      </div>
      <div class="form-group row">
        <label for="inputRouting" class="label col-sm-3 col-form-label" >R-Url</label>
        <div class="col-sm-9">
          <input type="text" nbInput fullWidth id="routeurl" placeholder="/URL"
          name="routeurl" [(ngModel)]="newPage.routeurl" required>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-3 label" >Template</label>
        <div class="col-sm-9">
          <div class="list-pages">

            <div>
              <nb-card class="page1">
              </nb-card>
              <p>Blank</p>
            </div>
          <!-- <div>
              <nb-card class="page2">

              </nb-card>
              <p>Login</p>
            </div>
            <div>
              <nb-card class="page3">

              </nb-card>
              <p>SignUp</p>
            </div> -->

      </div>
        </div>
      </div>
      <div class="form-group row" style="float:right;margin-right: 20px;">
        <div class="offset-sm-3 col-sm-9" >
          <button type="submit" nbButton status="primary">create</button>
        </div>
      </div>
    </form>




  </nb-card-body>
</nb-card>

</ng-template>
